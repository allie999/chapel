AST dump for ByteBufferHelpers after pass readExternC.
Module use list: 

{
  (172461 'use' ChapelStandard)
  (172465 'use' SysCTypes)
  unknown byteType[172471] "no doc" "type variable"(172470 call uint[115] 8)
  unknown bufferType[172481] "no doc" "type variable"(172480 call c_ptr(172478 call uint[115] 8))
  unknown locIdType[172486] "no doc" "type variable"(172485 'typeof' chpl_nodeID)
  { scopeless
    unknown chpl_stringGrowthFactor[172490] "config" "param" 1.5
    (172493 'end of statement')
  }
  function chpl_memhook_md_num[172496]() : _unknown[51] "extern" "local args" "no fn body" "private" "fn synchronization free"
  {
  }
  { scopeless type
    chpl_mem_descInt_t
  }
  function offset_STR_COPY_DATA[172504]() : _unknown[51] "no parens" "private"
  {
    { scopeless
      const CHPL_RT_MD_STR_COPY_DATA[172507] "const" "extern" chpl_mem_descInt_t
      (172510 'end of statement')
    }
    (172518 return(172516 call - CHPL_RT_MD_STR_COPY_DATA(172515 call chpl_memhook_md_num)))
  }
  function offset_STR_COPY_REMOTE[172524]() : _unknown[51] "no parens" "private"
  {
    { scopeless
      const CHPL_RT_MD_STR_COPY_REMOTE[172527] "const" "extern" chpl_mem_descInt_t
      (172530 'end of statement')
    }
    (172538 return(172536 call - CHPL_RT_MD_STR_COPY_REMOTE(172535 call chpl_memhook_md_num)))
  }
  function chpl_string_comm_get[172548](arg dest[172545] :
  bufferType, arg src_loc_id[172554] :
  (172553 call int[13] 64), arg src_addr[172558] :
  bufferType, arg len[172562] :
  integral) : _unknown[51] "inline"
  {
    (172593 'chpl_comm_get' dest src_loc_id src_addr(172592 call(172587 call . len c"safeCast") size_t))
  }
  function getGoodAllocSize[172604](arg requestedSize[172601] :
  int[13]) : _unknown[51] "inline" "private"
  {
    { scopeless
      const allocSize[172614] "const"(172613 call max(172610 call chpl_here_good_alloc_size requestedSize) chpl_stringMinAllocSize)
      (172617 'end of statement')
    }
    (172620 return allocSize)
  }
  function bufferAlloc[172628](arg requestedSize[172626]:_any[178](?)) : _unknown[51] "inline"
  {
    { scopeless
      const allocSize[172634] "const"(172633 call getGoodAllocSize requestedSize)
      (172637 'end of statement')
    }
    { scopeless
      unknown buf[172647](172645 call _cast bufferType(172643 call chpl_here_alloc allocSize offset_STR_COPY_DATA))
      (172650 'end of statement')
    }
    (172656 return(172654 call _build_tuple buf allocSize))
  }
  function bufferAllocExact[172666](arg requestedSize[172663] :
  int[13]) : _unknown[51]
  {
    { scopeless
      unknown buf[172676](172674 call _cast bufferType(172672 call chpl_here_alloc requestedSize offset_STR_COPY_DATA))
      (172679 'end of statement')
    }
    (172682 return buf)
  }
  function bufferRealloc[172692](arg buf[172689] :
  bufferType, arg requestedSize[172695] :
  int[13]) : _unknown[51]
  {
    { scopeless
      const allocSize[172705] "const"(172704 call getGoodAllocSize(172701 call + requestedSize 1))
      (172708 'end of statement')
    }
    { scopeless
      unknown newBuff[172719](172717 call _cast bufferType(172715 call chpl_here_realloc buf allocSize offset_STR_COPY_DATA))
      (172722 'end of statement')
    }
    (172728 return(172726 call _build_tuple newBuff allocSize))
  }
  function bufferEnsureSize[172738](arg buf[172735] :
  bufferType, arg currentSize[172741] :
  int[13], arg requestedSize[172745] :
  int[13]) : _unknown[51]
  {
    if(172766 call _cond_test(172750 call < currentSize requestedSize))
    {
      { scopeless
        (172757 return(172756 call bufferRealloc buf requestedSize))
      }
    }
    {
      { scopeless
        (172764 return(172762 call _build_tuple buf currentSize))
      }
    }
  }
  function bufferCopyRemote[172784](arg src_loc_id[172781] :
  (172780 call int[13] 64), arg src_addr[172787] :
  bufferType, arg len[172791] :
  int[13]) : _unknown[51]
  {
    { scopeless
      const allocSize[172802] "const"(172801 call getGoodAllocSize(172798 call + len 1))
      (172805 'end of statement')
    }
    { scopeless
      const dest[172815] "const"(172813 call _cast bufferType(172811 call chpl_here_alloc allocSize offset_STR_COPY_REMOTE))
      (172818 'end of statement')
    }
    (172825 call chpl_string_comm_get dest src_loc_id src_addr len)
    (172832 call =(172830 call dest len) 0)
    (172836 return dest)
  }
  { scopeless type
    bufferType
  }
  function bufferCopyLocal[172847](arg src_addr[172844] :
  bufferType, arg len[172850] :
  int[13]) : _unknown[51] "inline"
  {
    { scopeless
      const tmp[172865] "const" "temp"(172864 call bufferAlloc(172861 call + len 1))
      (172872 call _check_tuple_var_decl tmp[172865] 2)
      const dst[172853] "const"(172866 call tmp[172865] 0)
      const allocSize[172855] "const"(172869 call tmp[172865] 1)
      (172877 'end of statement')
    }
    (172887 call bufferMemcpyLocal(dst = dst)(src = src_addr)(len = len))
    (172894 call =(172892 call dst len) 0)
    (172902 return(172900 call _build_tuple dst allocSize))
  }
  function bufferFree[172912](arg buf[172909] :
  bufferType) : _unknown[51] "inline"
  {
    (172917 call chpl_here_free buf)
  }
  function bufferCopy[172928](arg buf[172925] :
  bufferType, arg off[172931] :
  int[13], arg len[172935] :
  int[13], arg loc[172939] :
  locIdType) : _unknown[51] "inline"
  {
    if(172983 call _cond_test(172949 call &&(172943 call ! _local)(172947 call != loc chpl_nodeID)))
    {
      { scopeless
        unknown newBuf[172960](172959 call bufferCopyRemote loc(172956 call + buf off) len)
        (172963 'end of statement')
      }
      (172970 return(172968 call _build_tuple newBuf len))
    }
    {
      (172980 return(172979 call bufferCopyLocal(172975 call + buf off) len))
    }
  }
  function bufferMemcpy[172996](arg dst[172993] :
  bufferType, arg src_loc[173002] :
  (173001 call int[13] 64), arg src[173006] :
  bufferType, arg len[173010] :
  int[13], arg dst_off[173015] :
  int[13] =
  0, arg src_off[173021] :
  int[13] =
  0) : _unknown[51] "inline"
  {
    if(173063 call _cond_test(173032 call &&(173026 call ! _local)(173030 call != src_loc chpl_nodeID)))
    {
      (173046 call chpl_string_comm_get(173037 call + dst dst_off) src_loc(173043 call + src src_off) len)
    }
    {
      (173060 call c_memcpy(173052 call + dst dst_off)(173057 call + src src_off) len)
    }
  }
  function bufferMemcpyLocal[173076](arg dst[173073] :
  bufferType, arg src[173079] :
  bufferType, arg len[173083] :
  int[13], arg dst_off[173088] :
  int[13] =
  0, arg src_off[173094] :
  int[13] =
  0) : _unknown[51] "inline"
  {
    (173121 call c_memcpy(173104 call +(173101 call _cast bufferType dst) dst_off)(173112 call +(173109 call _cast bufferType src) src_off)(173119 call _cast(173118 call uint[115] 64) len))
  }
  function bufferMemmoveLocal[173132](arg dst[173129] :
  bufferType, arg src[173134]:_any[178](?), arg len[173137] :
  int[13], arg dst_off[173142] :
  int[13] =
  0, arg src_off[173148] :
  int[13] =
  0) : _unknown[51] "inline"
  {
    (173163 call c_memmove(173155 call + dst dst_off)(173160 call + src src_off) len)
  }
  function bufferGetByte[173174](arg buf[173171] :
  bufferType, arg off[173177] :
  int[13], arg loc[173181] :
  locIdType) : _unknown[51] "inline"
  {
    if(173233 call _cond_test(173191 call &&(173185 call ! _local)(173189 call != loc chpl_nodeID)))
    {
      { scopeless
        const newBuf[173205] "const"(173204 call bufferCopyRemote(src_loc_id = loc)(src_addr =(173199 call + buf off))(len = 1))
        (173208 'end of statement')
      }
      { scopeless
        const ret[173214] "const"(173213 call newBuf 0)
        (173217 'end of statement')
      }
      (173221 call bufferFree newBuf)
      (173224 return ret)
    }
    {
      (173230 return(173229 call buf off))
    }
  }
  function bufferEquals[173246](arg buf1[173243] :
  bufferType, arg off1[173249] :
  int[13], arg loc1[173253] :
  locIdType, arg buf2[173257] :
  bufferType, arg off2[173261] :
  int[13], arg loc2[173265] :
  locIdType, arg len[173269] :
  int[13]) : _unknown[51] "inline"
  {
    (173296 return(173294 call ==(173292 call _strcmp(buf1 =(173275 call + buf1 off1))(len1 = len)(loc1 = loc1)(buf2 =(173285 call + buf2 off2))(len2 = len)(loc2 = loc1)) 0))
  }
  function bufferEqualsLocal[173307](arg buf1[173304] :
  bufferType, arg off1[173310] :
  int[13], arg buf2[173314] :
  bufferType, arg off2[173318] :
  int[13], arg len[173322] :
  int[13]) : _unknown[51] "inline"
  {
    (173345 return(173343 call ==(173341 call _strcmp_local(buf1 =(173328 call + buf1 off1))(len1 = len)(buf2 =(173336 call + buf2 off2))(len2 = len)) 0))
  }
  function _strcmp_local[173356](arg buf1[173353] :
  bufferType, arg len1[173359] :
  int[13], arg buf2[173363] :
  bufferType, arg len2[173367] :
  int[13]) : _unknown[51] "inline" "private"
  {
    { scopeless
      const size[173376] "const"(173375 call min len1 len2)
      (173379 'end of statement')
    }
    { scopeless
      const result[173387] "const"(173386 call c_memcmp buf1 buf2 size)
      (173390 'end of statement')
    }
    if(173422 call _cond_test(173393 call == result 0))
    {
      if(173402 call _cond_test(173397 call < size len1))
      {
        { scopeless
          (173400 return 1)
        }
      }
      if(173417 call _cond_test(173410 call < size len2))
      {
        { scopeless
          (173415 return(173413 call - 1))
        }
      }
    }
    (173427 return result)
  }
  { scopeless type
    int[13]
  }
  function _strcmp[173438](arg buf1[173435] :
  bufferType, arg len1[173441] :
  int[13], arg loc1[173445] :
  locIdType, arg buf2[173449] :
  bufferType, arg len2[173453] :
  int[13], arg loc2[173457] :
  locIdType) : _unknown[51] "inline"
  {
    if(173614 call _cond_test(173468 call &&(173462 call == loc1 chpl_nodeID)(173466 call == loc2 chpl_nodeID)))
    {
      (173477 return(173476 call _strcmp_local buf1 len1 buf2 len2))
    }
    {
      { scopeless
        if(173609 call _cond_test(173488 call &&(173482 call != loc1 chpl_nodeID)(173486 call == loc2 chpl_nodeID)))
        {
          { scopeless
            unknown locBuf1[173496](173495 call bufferCopyRemote loc1 buf1 len1)
            (173499 'end of statement')
          }
          { scopeless
            const ret[173508] "const"(173507 call _strcmp_local locBuf1 len1 buf2 len2)
            (173511 'end of statement')
          }
          (173515 call bufferFree locBuf1)
          (173518 return ret)
        }
        {
          { scopeless
            if(173605 call _cond_test(173528 call &&(173522 call == loc1 chpl_nodeID)(173526 call != loc2 chpl_nodeID)))
            {
              { scopeless
                unknown locBuf2[173536](173535 call bufferCopyRemote loc2 buf2 len2)
                (173539 'end of statement')
              }
              { scopeless
                const ret[173548] "const"(173547 call _strcmp_local buf1 len1 locBuf2 len2)
                (173551 'end of statement')
              }
              (173555 call bufferFree locBuf2)
              (173558 return ret)
            }
            {
              { scopeless
                unknown locBuf1[173566](173565 call bufferCopyRemote loc1 buf1 len1)
                (173569 'end of statement')
              }
              { scopeless
                unknown locBuf2[173577](173576 call bufferCopyRemote loc2 buf2 len2)
                (173580 'end of statement')
              }
              { scopeless
                const ret[173588] "const"(173587 call _strcmp_local locBuf1 len1 locBuf2 len2)
                (173591 'end of statement')
              }
              (173595 call bufferFree locBuf1)
              (173600 call bufferFree locBuf2)
              (173603 return ret)
            }
          }
        }
      }
    }
  }
}