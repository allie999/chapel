AST dump for gpureduce after pass bulkCopyRecords.
Module use list: ChapelStandard 

{
  type _class_localson_fn[2148494] val _runtime_hdr[2148495]:chpl_comm_on_bundle_t[209359] val _0_tmp[2148497]:chpl_localeID_t[209352] val _1_rvfDerefTmp[2148499]:[domain(1,int(64),false)] real(64)[1365901] val _2_rvfDerefTmp[2148501]:[domain(1,int(64),false)] real(64)[1365901]
  function chpl__init_gpureduce[416129]() : void[4] "insert line file info" "module init" "resolved"
  {
    const-val ret_tmp[1865124]:range(int(64),bounded,false)[1026875] "temp"
    (209902 call chpl_build_bounded_range[455180] 1 10 ret_tmp[1865124])
    (1865127 'move' call_tmp[704723] ret_tmp[1865124])
    const-val ret_tmp[1871243]:domain(1,int(64),false)[1252658] "temp"
    (209906 call chpl__ensureDomainExpr[1316439] call_tmp[704723] ret_tmp[1871243])
    (1871246 'move' call_tmp[704728] ret_tmp[1871243])
    (704736 'move' call_tmp[704733](209908 call chpl__buildArrayRuntimeType[1357123] call_tmp[704728]))
    const-val ret_tmp[1873855]:[domain(1,int(64),false)] real(64)[1365901] "temp"
    (1548411 call chpl__coerceCopy[1509237] call_tmp[704733] 2.0 ret_tmp[1873855])
    (1873858 'move' init_coerce_tmp[1366150] ret_tmp[1873855])
    (546046 'move' A[209913] init_coerce_tmp[1366150])
    (2146833 '_private_broadcast' A[209913])
    const-val ret_tmp[1865130]:range(int(64),bounded,false)[1026875] "temp"
    (209919 call chpl_build_bounded_range[455180] 1 10 ret_tmp[1865130])
    (1865133 'move' call_tmp[704738] ret_tmp[1865130])
    const-val ret_tmp[1871249]:domain(1,int(64),false)[1252658] "temp"
    (209923 call chpl__ensureDomainExpr[1316439] call_tmp[704738] ret_tmp[1871249])
    (1871252 'move' call_tmp[704743] ret_tmp[1871249])
    (704751 'move' call_tmp[704748](209925 call chpl__buildArrayRuntimeType[1357123] call_tmp[704743]))
    (1551359 'move' _runtime_type_tmp_[1551354](1837951 '.v' call_tmp[704748] dom[1366135]))
    const-val ret_tmp[1874329]:[domain(1,int(64),false)] real(64)[1365901] "temp"
    (1551352 call chpl__convertRuntimeTypeToValue[1538542] _runtime_type_tmp_[1551354] ret_tmp[1874329])
    (1874332 'move' B[209927] ret_tmp[1874329])
    (2146835 '_private_broadcast' B[209927])
    val tmp[2147099]:real(64)[16] "temp"
    (2147101 'move' tmp[2147099] 0.0)
    (2147104 '.=' C[209932] value[2147097] tmp[2147099])
    const-val tmp[209981]:chpl_localeID_t[209352] "dead after last mention" "const" "temp"
    const-val call_tmp[704753]:locale[28] "dead after last mention" "expr temp" "insert auto destroy" "maybe param" "temp"
    const-val ret_tmp[1864006]:locale[28] "temp"
    (394208 call here[90438] ret_tmp[1864006])
    (1864009 'move' call_tmp[704753] ret_tmp[1864006])
    const-val call_tmp[704758]:chpl_localeID_t[209352] "dead after last mention" "expr temp" "maybe param" "temp"
    val _locale_tmp_[1366160]:BaseLocale[91204] "dead after last mention" "temp"
    (1366165 'move' _locale_tmp_[1366160](1366162 call _value[89984] call_tmp[704753]))
    (704761 'move' call_tmp[704758](209978 '_wide_get_locale' _locale_tmp_[1366160]))
    (209983 'move' tmp[209981] call_tmp[704758])
    val rvfDerefTmp[2145206]:[domain(1,int(64),false)] real(64)[1365901] "temp"
    (2145209 'move' rvfDerefTmp[2145206] A[209913])
    val rvfDerefTmp[2145219]:[domain(1,int(64),false)] real(64)[1365901] "temp"
    (2145222 'move' rvfDerefTmp[2145219] B[209927])
    val isdirect[2148477]:bool[10] "temp"
    (2148482 'move' isdirect[2148477](2148479 call chpl_doDirectExecuteOn[187469] tmp[209981]))
    if isdirect[2148477]
    {
      (2148486 call on_fn[935595] rvfDerefTmp[2145206] rvfDerefTmp[2145219])
    }
    {
      val _args_foron_fn[2148504]:_class_localson_fn[2148494] "temp"
      (2148508 'move' _args_foron_fn[2148504](2148506 'stack allocate class' _class_localson_fn[2148494]))
      (2148510 '.=' _args_foron_fn[2148504] _0_tmp[2148497] tmp[209981])
      (2148514 '.=' _args_foron_fn[2148504] _1_rvfDerefTmp[2148499] rvfDerefTmp[2145206])
      (2148518 '.=' _args_foron_fn[2148504] _2_rvfDerefTmp[2148501] rvfDerefTmp[2145219])
      val _args_vforon_fn[2148522]:c_void_ptr[149] "temp"
      (2148526 'move' _args_vforon_fn[2148522](2148524 'cast_to_void_star' _args_foron_fn[2148504]))
      val _args_sizeon_fn[2148528]:int(64)[13] "temp"
      (2148532 'move' _args_sizeon_fn[2148528](2148530 'sizeof_bundle' _class_localson_fn[2148494]))
      on(2148572 call wrapon_fn[2148534] tmp[209981] _args_vforon_fn[2148522] _args_sizeon_fn[2148528] _args_foron_fn[2148504])
    }
    (1877356 call chpl__autoDestroy[1562339] call_tmp[704753])
    {
    }
    (210008 call writeln[1543164] "12345678")
    (210012 call =[1540115] B[209927] A[209913])
    (527843 return _void[55])
  }
  const-val A[209913]:[domain(1,int(64),false)] real(64)[1365901] "dead at end of block" "insert auto destroy"
  val B[209927]:[domain(1,int(64),false)] real(64)[1365901] "dead at end of block" "insert auto destroy"
  val C[209932]:heap__real64[2147095] "dead at end of block" "insert auto destroy"
  function main[749355]() : void[4] "resolved"
  {
    (749358 return _void[55])
  }
  function chpl_gen_main[749361](const  ref arg _arg[749360]:_ref(chpl_main_argument)[1560221]) : int(64)[13] "compiler generated" "export" "generated main" "local args" "resolved"
  {
    val global_temp[1831278]:domain(1,int(64),false)[1252658] "temp"
    val global_temp[1827012]:string[26] "temp"
    val ret[749404]:int(64)[13] "dead after last mention" "RVV" "temp"
    const-val _main_ret[749365]:int(64)[13] "dead after last mention" "temp"
    val _endCount[749367]:_EndCount(AtomicT(int(64)),int(64))[945404] "dead after last mention" "temp"
    (749372 'move' _endCount[749367](749369 call _endCountAlloc[938879]))
    (2147128 call chpl_task_setDynamicEndCount[171376] _endCount[749367])
    (749376 call chpl_rt_preUserCodeHook[167714])
    (749378 call chpl__init_gpureduce[416129])
    (749380 call main[749355])
    (749382 'move' _main_ret[749365] 0)
    (749385 call chpl_rt_postUserCodeHook[167720])
    val error[1843440]:Error[167984] "error variable" "temp"
    (1843442 'move' error[1843440] nil[44])
    (749387 call _waitEndCount[1551419] _endCount[749367] error[1843440])
    val errorExists[2170316]:bool[10] "temp"
    (2170321 'move' errorExists[2170316](2170318 '!=' error[1843440] nil[44]))
    if errorExists[2170316]
    {
      (1843445 call chpl_propagate_error[170518] error[1843440])
    }
    (749390 call chpl_deinitModules[167759])
    (749409 'move' ret[749404] _main_ret[749365])
    (749406 return ret[749404])
  }
  const-val call_tmp[704723]:range(int(64),bounded,false)[1026875] "dead at end of block" "expr temp" "insert auto destroy" "maybe param" "temp"
  const-val call_tmp[704728]:domain(1,int(64),false)[1252658] "dead at end of block" "expr temp" "insert auto destroy" "maybe param" "temp"
  const-val call_tmp[704733]:_RuntimeTypeInfo[1366134] "dead at end of block" "maybe param" "temp"
  const-val init_coerce_tmp[1366150]:[domain(1,int(64),false)] real(64)[1365901] "dead at end of block" "temp"
  const-val call_tmp[704738]:range(int(64),bounded,false)[1026875] "dead at end of block" "expr temp" "insert auto destroy" "maybe param" "temp"
  const-val call_tmp[704743]:domain(1,int(64),false)[1252658] "dead at end of block" "expr temp" "insert auto destroy" "maybe param" "temp"
  const-val call_tmp[704748]:_RuntimeTypeInfo[1366134] "dead at end of block" "expr temp" "maybe param" "temp"
  const-val _runtime_type_tmp_[1551354]:domain(1,int(64),false)[1252658] "dead at end of block" "temp"
  function on_fn[935595](const in arg A[1841204]:[domain(1,int(64),false)] real(64)[1365901], in arg B[1841206]:[domain(1,int(64),false)] real(64)[1365901]) : void[4] "on" "resolved"
  {
    {
      const-val call_tmp[704783]:[domain(1,int(64),false)] real(64)[1365901] "dead after last mention" "expr temp" "insert auto destroy" "maybe param" "temp"
      const-val ret_tmp[1872018]:[domain(1,int(64),false)] real(64)[1365901] "temp"
      ref rvfRerefTmp[2145212]:_ref(_array(unmanaged [domain(1,int(64),false)] real(64)))[1365927] "temp"
      (2145216 'move' rvfRerefTmp[2145212](2145213 'set reference' A[1841204]))
      (209973 call chpl__scan1[1366170] rvfRerefTmp[2145212] ret_tmp[1872018])
      (1872021 'move' call_tmp[704783] ret_tmp[1872018])
      ref rvfRerefTmp[2145225]:_ref(_array(unmanaged [domain(1,int(64),false)] real(64)))[1365927] "temp"
      (2145229 'move' rvfRerefTmp[2145225](2145226 'set reference' B[1841206]))
      (209974 call =[1540115] rvfRerefTmp[2145225] call_tmp[704783])
      (1877401 call chpl__autoDestroy[1716988] call_tmp[704783])
    }
    (935602 return _void[55])
  }
  function chpl__scan1[1366170](const  ref arg chpl_toScan[1366172]:[domain(1,int(64),false)] real(64)[1365901], ref arg _retArg[1872024]:_ref(_array(unmanaged [domain(1,int(64),false)] real(64)))[1365927]) : void[4] "compiler nested function" "fn returns via _retArg" "instantiated generic" "invisible fn" "ReduceScanOp" "resolved" "fn returns iterator"
  {
    const-val ret[1366174]:[domain(1,int(64),false)] real(64)[1365901] "dead after last mention" "RVV" "temp"
    val chpl_eltType[1366182]:real(64)[16] "dead after last mention" "temp" "type variable"
    const tmp[1366210]:SumReduceScanOp(real(64))[1372574] "dead after last mention" "const" "temp"
    val new_temp[1372669]:SumReduceScanOp(real(64))[1372574] "dead after last mention" "temp"
    const-val default_arg_l[1372713]:chpl_LocalSpinlock[187432] "dead after last mention" "default actual temp" "expr temp" "insert auto destroy" "maybe param" "no auto destroy" "suppress lvalue error" "temp"
    const-val ret_tmp[1872089]:chpl_LocalSpinlock[187432] "temp"
    (1372715 call _new_default_l[1372679] ret_tmp[1872089])
    (1872092 'move' default_arg_l[1372713] ret_tmp[1872089])
    (1372671 'move' new_temp[1372669](1371577 call _new[1372600] default_arg_l[1372713] 0.0))
    (1366212 'move' tmp[1366210] new_temp[1372669])
    const-val call_tmp[1366220]:[domain(1,int(64),false)] real(64)[1365901] "dead after last mention" "expr temp" "insert auto destroy" "maybe param" "temp"
    const-val ret_tmp[1872107]:[domain(1,int(64),false)] real(64)[1365901] "temp"
    (1366225 call chpl__scanIterator[1372784] tmp[1366210] chpl_toScan[1366172] ret_tmp[1872107])
    (1872110 'move' call_tmp[1366220] ret_tmp[1872107])
    (1366228 'move' ret[1366174] call_tmp[1366220])
    (1872026 '=' _retArg[1872024] ret[1366174])
    (1872028 return _void[55])
  }
  function chpl__deinit_gpureduce[1887223]() : void[4] "resolved"
  {
    label _endchpl__deinit_gpureduce[1887229]
    (1887246 call chpl__autoDestroy[1657644] call_tmp[704743])
    (1887243 call chpl__autoDestroy[1383553] call_tmp[704738])
    (1887240 call chpl__autoDestroy[1657644] call_tmp[704728])
    (1887237 call chpl__autoDestroy[1383553] call_tmp[704723])
    (1887234 call chpl__autoDestroy[1716988] B[209927])
    (1887231 call chpl__autoDestroy[1716988] A[209913])
    (1887226 return _void[55])
  }
  function wrapon_fn[2148534](const in arg dummy_locale_arg[2148536]:chpl_localeID_t[209352], in arg buf[2148538]:c_void_ptr[149], in arg buf_size[2148540]:int(64)[13], in arg c[2148542]:_class_localson_fn[2148494]) : void[4] "on block"
  {
    val _0_tmp[2148547]:chpl_localeID_t[209352] "temp"
    (2148552 'move' _0_tmp[2148547](2148549 '.v' c[2148542] _0_tmp[2148497]))
    val _1_rvfDerefTmp[2148554]:[domain(1,int(64),false)] real(64)[1365901] "temp"
    (2148559 'move' _1_rvfDerefTmp[2148554](2148556 '.v' c[2148542] _1_rvfDerefTmp[2148499]))
    val _2_rvfDerefTmp[2148562]:[domain(1,int(64),false)] real(64)[1365901] "temp"
    (2148567 'move' _2_rvfDerefTmp[2148562](2148564 '.v' c[2148542] _2_rvfDerefTmp[2148501]))
    (2148545 call on_fn[935595] _1_rvfDerefTmp[2148554] _2_rvfDerefTmp[2148562])
    (2148570 return _void[55])
  }
}