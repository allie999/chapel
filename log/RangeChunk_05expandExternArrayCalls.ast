AST dump for RangeChunk after pass expandExternArrayCalls.
Module use list: 

{
  (352928 'use' ChapelStandard)
  type RemElems[266378] def Thru[266372]:RemElems[266378] def Pack[266374]:RemElems[266378] def Mod[266376]:RemElems[266378]
  (266383 'use' RemElems)
  (266386 'use' BoundedRangeType)
  function chunks[266401](arg r[266398] :
  (266397 call range unknown RT[266391] bounded unknown S[266395]), arg numChunks[266404] :
  integral, arg remPol[266409] :
  RemElems =
  Thru) : _unknown[51] "iterator fn"
  {
    {
      unknown _indexOfInterest[266473] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[266474] "expr temp" "temp"
      (266483 'move' _iterator[266474](266481 call _getIterator(266429 call chunksOrder r numChunks remPol)))
      Defer
      {
        {
          (266514 call _freeIterator _iterator[266474])
        }
      }
      { scopeless type
        (266489 'move' _indexOfInterest[266473](266486 call iteratorIndex _iterator[266474]))
      }
      ForLoop[266475]
      {
        (266494 call _check_tuple_var_decl _indexOfInterest[266473] 2)
        unknown startOrder[266500] "index var" "insert auto destroy"
        (266502 'move' startOrder[266500](266498 call _indexOfInterest[266473] 0))
        unknown endOrder[266507] "index var" "insert auto destroy"
        (266509 'move' endOrder[266507](266505 call _indexOfInterest[266473] 1))
        {
          { scopeless
            const start[266437] "const"(266436 call(266431 call . r c"orderToIndex") startOrder)
            (266440 'end of statement')
          }
          { scopeless
            const end[266449] "const"(266448 call(266443 call . r c"orderToIndex") endOrder)
            (266452 'end of statement')
          }
          (266471 yield(266468 IfExpr  S then
          { scopeless
            (266462 call chpl_by(266456 call chpl_build_bounded_range start end)(266459 call . r c"stride"))
          } else
          { scopeless
            (266466 call chpl_build_bounded_range start end)
          } ))
        }
        label _continueLabel[266478]
        _indexOfInterest[266473]
        _iterator[266474]
      }
      label _breakLabel[266479]
    }
  }
  { scopeless type
    (266418 call range RT bounded S)
  }
  function chunk[266538](arg r[266535] :
  (266534 call range unknown RT[266528] bounded unknown S[266532]), arg numChunks[266541] :
  integral, arg idx[266545] :
  integral, arg remPol[266550] :
  RemElems =
  Thru) : _unknown[51]
  {
    { scopeless
      const tmp[266572] "const" "temp"(266571 call chunkOrder r numChunks idx remPol)
      (266579 call _check_tuple_var_decl tmp[266572] 2)
      const startOrder[266560] "const"(266573 call tmp[266572] 0)
      const endOrder[266562] "const"(266576 call tmp[266572] 1)
      (266584 'end of statement')
    }
    { scopeless
      const start[266593] "const"(266592 call(266587 call . r c"orderToIndex") startOrder)
      (266596 'end of statement')
    }
    { scopeless
      const end[266604] "const"(266603 call(266598 call . r c"orderToIndex") endOrder)
      (266607 'end of statement')
    }
    (266626 return(266623 IfExpr  S then
    { scopeless
      (266617 call chpl_by(266611 call chpl_build_bounded_range start end)(266614 call . r c"stride"))
    } else
    { scopeless
      (266621 call chpl_build_bounded_range start end)
    } ))
  }
  { scopeless type
    (266559 call range RT bounded S)
  }
  function blockCyclicChunks[266648](arg r[266645] :
  (266644 call range unknown t[266634](boundedType =(266638 call . BoundedRangeType c"bounded")) unknown strided[266642]), arg blockSize[266651] :
  integral, arg tid[266655] :
  integral, arg nTasks[266659] :
  integral) : _unknown[51] "iterator fn"
  {
    if(266706 call _cond_test(266664 call >= tid nTasks))
    {
      { scopeless
        (266704 call halt(266701 call + "Parameter tid must be < nTasks " "because blocks are indexed from 0..nTasks-1"))
      }
    }
    if(266737 call _cond_test(266714 call <= blockSize 0))
    {
      { scopeless
        (266735 call halt "blockSize must a positive number")
      }
    }
    if(266767 call _cond_test(266744 call <= nTasks 0))
    {
      { scopeless
        (266765 call halt "nTasks must be a positive number")
      }
    }
    { scopeless
      unknown rangeStride[266776](266773 call . r c"stride")
      (266779 'end of statement')
    }
    { scopeless
      unknown blockStride[266784](266782 call * blockSize rangeStride)
      (266787 'end of statement')
    }
    { scopeless
      unknown low[266792](266789 call . r c"low")
      (266795 'end of statement')
    }
    { scopeless
      unknown high[266800](266797 call . r c"high")
      (266803 'end of statement')
    }
    { scopeless
      unknown firstBlockStart[266825](266823 call +(266816 IfExpr (266806 call > rangeStride 0) then
      { scopeless
        (266809 call . r c"low")
      } else
      { scopeless
        (266813 call . r c"high")
      } )(266821 call * blockStride tid))
      (266828 'end of statement')
    }
    if(266847 call _cond_test(266843 call ||(266834 call > firstBlockStart(266831 call . r c"high"))(266841 call < firstBlockStart(266838 call . r c"low"))))
    {
      { scopeless
        (266845 return)
      }
    }
    { scopeless
      unknown strideToNextBlock[266856](266854 call * blockStride nTasks)
      (266859 'end of statement')
    }
    if(267016 call _cond_test(266862 call > rangeStride 0))
    {
      {
        unknown _indexOfInterest[266897] "an _indexOfInterest or chpl__followIdx variable" "temp"
        unknown _iterator[266898] "expr temp" "temp"
        (266907 'move' _iterator[266898](266905 call _getIterator(266916 call chpl_direct_range_iter firstBlockStart high strideToNextBlock)))
        Defer
        {
          {
            (266932 call _freeIterator _iterator[266898])
          }
        }
        { scopeless type
          (266921 'move' _indexOfInterest[266897](266918 call iteratorIndex _iterator[266898]))
        }
        ForLoop[266899]
        {
          unknown blockStart[266925] "index var" "insert auto destroy"
          (266927 'move' blockStart[266925] _indexOfInterest[266897])
          {
            { scopeless
              unknown blockEnd[266883](266882 call min high(266880 call -(266877 call + blockStart blockStride) 1))
              (266886 'end of statement')
            }
            (266895 yield(266893 call chpl_by(266890 call chpl_build_bounded_range blockStart blockEnd) rangeStride))
          }
          label _continueLabel[266902]
          _indexOfInterest[266897]
          _iterator[266898]
        }
        label _breakLabel[266903]
      }
    }
    {
      {
        unknown _indexOfInterest[266973] "an _indexOfInterest or chpl__followIdx variable" "temp"
        unknown _iterator[266974] "expr temp" "temp"
        (266983 'move' _iterator[266974](266981 call _getIterator(266992 call chpl_direct_range_iter low firstBlockStart strideToNextBlock)))
        Defer
        {
          {
            (267008 call _freeIterator _iterator[266974])
          }
        }
        { scopeless type
          (266997 'move' _indexOfInterest[266973](266994 call iteratorIndex _iterator[266974]))
        }
        ForLoop[266975]
        {
          unknown blockEnd[267001] "index var" "insert auto destroy"
          (267003 'move' blockEnd[267001] _indexOfInterest[266973])
          {
            { scopeless
              unknown blockStart[266959](266958 call max low(266956 call +(266953 call + blockEnd blockStride) 1))
              (266962 'end of statement')
            }
            (266971 yield(266969 call chpl_by(266966 call chpl_build_bounded_range blockStart blockEnd) rangeStride))
          }
          label _continueLabel[266978]
          _indexOfInterest[266973]
          _iterator[266974]
        }
        label _breakLabel[266979]
      }
    }
  }
  function chunksOrder[267034](arg r[267031] :
  (267030 call range unknown RT[267025] bounded ?[260]), arg numChunks[267037] :
  integral, arg remPol[267042] :
  RemElems =
  Thru) : _unknown[51] "iterator fn"
  {
    if(267065 call _cond_test(267061 call ||(267055 call ==(267051 call . r c"size") 0)(267059 call <= numChunks 0)))
    {
      { scopeless
        (267063 return)
      }
    }
    { scopeless
      const nElems[267075] "const"(267072 call . r c"size")
      (267078 'end of statement')
    }
    { scopeless
      unknown nChunks[267087](267085 call _cast RT(267083 call min numChunks nElems))
      (267090 'end of statement')
    }
    { scopeless
      unknown chunkSize[267091] RT
      unknown rem[267095](267099 'typeof' chunkSize)
      (267100 'end of statement')
    }
    {
      unknown tmp[267167] "expr temp" "maybe param" "maybe type" "temp"
      (267169 'move' tmp[267167] remPol)
      if(267174 call _cond_test(267171 call == tmp[267167] Pack))
      {
        (267110 call = chunkSize(267108 call / nElems nChunks))
        if(267136 call _cond_test(267119 call !=(267116 call * chunkSize nChunks) nElems))
        {
          (267123 call += chunkSize 1)
          (267133 call = nChunks(267132 call divceil nElems chunkSize))
        }
      }
      {
        if(267180 call _cond_test(267177 call == tmp[267167] Mod))
        {
          (267149 call = chunkSize(267147 call / nElems nChunks))
          (267161 call = rem(267159 call - nElems(267157 call * chunkSize nChunks)))
        }
      }
    }
    {
      unknown _indexOfInterest[267303] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[267304] "expr temp" "temp"
      (267313 'move' _iterator[267304](267311 call _getIterator(267320 call chpl_direct_counted_range_iter 0 nChunks)))
      Defer
      {
        {
          (267336 call _freeIterator _iterator[267304])
        }
      }
      { scopeless type
        (267325 'move' _indexOfInterest[267303](267322 call iteratorIndex _iterator[267304]))
      }
      ForLoop[267305]
      {
        unknown i[267329] "index var" "insert auto destroy"
        (267331 'move' i[267329] _indexOfInterest[267303])
        {
          { scopeless
            unknown chunk[267196](267194 call * 2 RT)
            (267199 'end of statement')
          }
          {
            unknown tmp[267275] "expr temp" "maybe param" "maybe type" "temp"
            (267277 'move' tmp[267275] remPol)
            if(267282 call _cond_test(267279 call == tmp[267275] Thru))
            {
              { scopeless
                (267212 call = chunk(267211 call chunkOrderThru nElems nChunks i))
              }
            }
            {
              if(267288 call _cond_test(267285 call == tmp[267275] Pack))
              {
                { scopeless
                  (267227 call = chunk(267226 call chunkOrderPack chunkSize nElems i))
                }
              }
              {
                if(267295 call _cond_test(267292 call == tmp[267275] Mod))
                {
                  { scopeless
                    (267244 call = chunk(267243 call chunkOrderMod chunkSize rem nElems nChunks i))
                  }
                }
                {
                  { scopeless
                    (267269 call halt "RangeChunk: unknown RemElems in chunksOrder")
                  }
                }
              }
            }
          }
          (267301 yield chunk)
        }
        label _continueLabel[267308]
        _indexOfInterest[267303]
        _iterator[267304]
      }
      label _breakLabel[267309]
    }
  }
  { scopeless type
    (267048 call * 2 RT)
  }
  function chunkOrder[267358](arg r[267355] :
  (267354 call range unknown RT[267349] bounded ?[260]), arg numChunks[267361] :
  integral, arg idx[267365] :
  integral, arg remPol[267370] :
  RemElems =
  Thru) : _unknown[51]
  {
    if(267416 call _cond_test(267401 call ||(267395 call ||(267389 call ||(267383 call ==(267379 call . r c"size") 0)(267387 call <= numChunks 0))(267393 call < idx 0))(267399 call >= idx numChunks)))
    {
      { scopeless
        (267414 return(267412 call _build_tuple(267405 call _cast RT 1)(267409 call _cast RT 0)))
      }
    }
    { scopeless
      const nElems[267426] "const"(267423 call . r c"size")
      (267429 'end of statement')
    }
    { scopeless
      const nChunks[267438] "const"(267436 call _cast RT(267434 call min numChunks nElems))
      (267441 'end of statement')
    }
    { scopeless
      const i[267446] "const"(267444 call _cast RT idx)
      (267449 'end of statement')
    }
    {
      unknown tmp[267562] "expr temp" "maybe param" "maybe type" "temp"
      (267564 'move' tmp[267562] remPol)
      if(267569 call _cond_test(267566 call == tmp[267562] Thru))
      {
        (267460 return(267459 call chunkOrderThru nElems nChunks i))
      }
      {
        if(267575 call _cond_test(267572 call == tmp[267562] Pack))
        {
          { scopeless
            unknown chunkSize[267471](267469 call / nElems nChunks)
            (267474 'end of statement')
          }
          if(267488 call _cond_test(267481 call !=(267478 call * chunkSize nChunks) nElems))
          {
            { scopeless
              (267485 call += chunkSize 1)
            }
          }
          (267499 return(267498 call chunkOrderPack chunkSize nElems i))
        }
        {
          if(267582 call _cond_test(267579 call == tmp[267562] Mod))
          {
            { scopeless
              const chunkSize[267509] "const"(267507 call / nElems nChunks)
              (267512 'end of statement')
            }
            { scopeless
              const rem[267521] "const"(267519 call - nElems(267517 call * chunkSize nChunks))
              (267524 'end of statement')
            }
            (267533 return(267532 call chunkOrderMod chunkSize rem nElems nChunks i))
          }
          {
            (267556 call halt "RangeChunk: unknown RemElems in chunkOrder")
          }
        }
      }
    }
  }
  { scopeless type
    (267376 call * 2 RT)
  }
  function chunkOrderThru[267597](arg nElems[267594] :
  unknown I[267592], arg nChunks[267600] :
  I, arg i[267604] :
  I) : _unknown[51] "no doc" "private"
  {
    { scopeless
      const m[267616] "const"(267614 call * nElems i)
      (267619 'end of statement')
    }
    { scopeless
      const start[267637] "const"(267634 IfExpr (267623 call == i 0) then
      { scopeless
        (267627 call _cast I 0)
      } else
      { scopeless
        (267633 call divceil m nChunks)
      } )
      (267640 'end of statement')
    }
    { scopeless
      const end[267666] "const"(267663 IfExpr (267646 call == i(267644 call - nChunks 1)) then
      { scopeless
        (267650 call - nElems 1)
      } else
      { scopeless
        (267661 call -(267659 call divceil(267655 call + m nElems) nChunks) 1)
      } )
      (267669 'end of statement')
    }
    (267675 return(267673 call _build_tuple start end))
  }
  { scopeless type
    (267610 call _build_tuple I I)
  }
  function chunkOrderPack[267687](arg chunkSize[267684] :
  unknown I[267682], arg nElems[267690] :
  I, arg i[267694] :
  I) : _unknown[51] "no doc" "private"
  {
    { scopeless
      const start[267706] "const"(267704 call * chunkSize i)
      (267709 'end of statement')
    }
    if(267728 call _cond_test(267713 call >= start nElems))
    {
      { scopeless
        (267726 return(267724 call _build_tuple(267717 call _cast I 1)(267721 call _cast I 0)))
      }
    }
    { scopeless
      unknown end[267740](267738 call -(267735 call + start chunkSize) 1)
      (267743 'end of statement')
    }
    if(267756 call _cond_test(267746 call >= end nElems))
    {
      { scopeless
        (267753 call = end(267751 call - nElems 1))
      }
    }
    (267766 return(267764 call _build_tuple start end))
  }
  { scopeless type
    (267700 call _build_tuple I I)
  }
  function chunkOrderMod[267778](arg chunkSize[267775] :
  unknown I[267773], arg rem[267781] :
  I, arg nElems[267785] :
  I, arg nChunks[267789] :
  I, arg i[267793] :
  I) : _unknown[51] "no doc" "private"
  {
    { scopeless
      unknown start[267801] I
      unknown end[267805](267809 'typeof' start)
      (267810 'end of statement')
    }
    if(267862 call _cond_test(267814 call < i rem))
    {
      (267824 call = start(267822 call * i(267820 call + chunkSize 1)))
      (267833 call = end(267831 call + start chunkSize))
    }
    {
      (267847 call = start(267845 call - nElems(267843 call *(267840 call - nChunks i) chunkSize)))
      (267859 call = end(267857 call -(267854 call + start chunkSize) 1))
    }
    (267871 return(267869 call _build_tuple start end))
  }
  { scopeless type
    (267799 call _build_tuple I I)
  }
}