AST dump for ExternalArray after pass flattenFunctions.
Module use list: ChapelStandard HaltWrappers 

{
  function chpl__init_ExternalArray[416097]() : void[4] "insert line file info" "module init" "resolved"
  {
    (524377 return _void[55])
  }
  function _ref(chpl_opaque_array)[967659]._instance[821482](ref arg this[821486]:_ref(chpl_opaque_array)[967659]) ref : _ref(c_void_ptr)[938141] "field accessor" "inline" "method" "primary method" "no implicit copy" "no parens" "reference to const when const this" "resolved"
  {
    ref ret[821496]:_ref(c_void_ptr)[938141] "dead after last mention" "RVV" "temp"
    ref call_tmp[821503]:_ref(c_void_ptr)[938141] "dead after last mention" "maybe param" "temp"
    (821506 'move' call_tmp[821503](821490 '.' this[821486] _instance[188611]))
    (821501 'move' ret[821496] call_tmp[821503])
    (821498 return ret[821496])
  }
  function _ref(chpl_opaque_array)[967659]._unowned[821508](ref arg this[821512]:_ref(chpl_opaque_array)[967659]) ref : _ref(bool)[937218] "field accessor" "inline" "method" "primary method" "no implicit copy" "no parens" "reference to const when const this" "resolved"
  {
    ref ret[821522]:_ref(bool)[937218] "dead after last mention" "RVV" "temp"
    ref call_tmp[821529]:_ref(bool)[937218] "dead after last mention" "maybe param" "temp"
    (821532 'move' call_tmp[821529](821516 '.' this[821512] _unowned[188616]))
    (821527 'move' ret[821522] call_tmp[821529])
    (821524 return ret[821522])
  }
  function _ref(chpl_opaque_array)[967659].deinit[821608](const?  ref arg this[821612]:_ref(chpl_opaque_array)[967659]) : void[4] "compiler generated" "destructor" "inline" "last resort" "method" "primary method" "resolved"
  {
    (821620 return _void[55])
  }
  type chpl_opaque_array[188621] val _pid[188606]:int(64)[13] val _instance[188611]:c_void_ptr[149] val _unowned[188616]:bool[10]
  function _ref(chpl_external_array)[967669].deinit[823866](const?  ref arg this[823870]:_ref(chpl_external_array)[967669]) : void[4] "compiler generated" "destructor" "inline" "last resort" "method" "primary method" "resolved"
  {
    (823878 return _void[55])
  }
  type chpl_external_array[188641] val elts[188626]:c_void_ptr[149] val num_elts[188631]:uint(64)[115] val freer[188636]:c_void_ptr[149]
  function chpl_call_free_func[188708](const in arg func[188705]:c_void_ptr[149], const in arg elts[188711]:c_void_ptr[149]) : void[4] "extern" "local args" "no fn body" "resolved" "no return value for void"
  {
    (524240 return _void[55])
  }
  function cleanupOpaqueArray[189693](const  ref arg arr[189690]:_ref(chpl_opaque_array)[967659]) : void[4] "export" "local args" "resolved" "no return value for void"
  {
    ref call_tmp[691676]:_ref(c_void_ptr)[938141] "dead at end of block" "maybe param" "reference to a const" "temp"
    (691679 'move' call_tmp[691676](189696 call _instance[821482] arr[189690]))
    val call_tmp[691681]:unmanaged BaseArr?[415524] "dead at end of block" "maybe param" "temp"
    val coerce_tmp[1415349]:c_void_ptr[149] "dead at end of block" "coerce temp" "insert auto destroy" "temp"
    (1415353 'move' coerce_tmp[1415349](1415351 'deref' call_tmp[691676]))
    (691684 'move' call_tmp[691681](189702 call _cast[1415322] coerce_tmp[1415349]))
    val cleanup[189704]:unmanaged BaseArr?[415524] "dead at end of block" "insert auto destroy"
    (545587 'move' cleanup[189704](1415357 call chpl__initCopy[1415359] call_tmp[691681]))
    (189707 'end of statement')
    val call_tmp[691686]:bool[10] "dead after last mention" "expr temp" "maybe param" "temp"
    val coerce_tmp[1415385]:borrowed object?[415375] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
    (1415390 'move' coerce_tmp[1415385](1415387 'cast' borrowed object?[415375] cleanup[189704]))
    (691689 'move' call_tmp[691686](189721 call _cond_test[9881] coerce_tmp[1415385]))
    if call_tmp[691686]
    {
      ref call_tmp[691693]:_ref(bool)[937218] "dead after last mention" "maybe param" "reference to a const" "temp"
      (691696 'move' call_tmp[691693](189712 call _unowned[821508] arr[189690]))
      val call_tmp[691698]:unmanaged BaseArr[415491] "dead after last mention" "expr temp" "maybe param" "temp"
      (691701 'move' call_tmp[691698](189717 call postfix![1415394] cleanup[189704]))
      val coerce_tmp[1416283]:bool[10] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
      (1416287 'move' coerce_tmp[1416283](1416285 'deref' call_tmp[691693]))
      (189719 call _do_destroy_arr[1415683] coerce_tmp[1416283] call_tmp[691698] 1)
      (484667 'end of statement' cleanup[189704])
    }
    (524375 return _void[55])
  }
}