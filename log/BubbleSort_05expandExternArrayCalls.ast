AST dump for BubbleSort after pass expandExternArrayCalls.
Module use list: 

{
  (353060 'use' ChapelStandard)
  (269430 'import' Sort.{defaultComparator, chpl_check_comparator, chpl_compare})
  function bubbleSort[269445](arg Data[269442] :
  (269440 call chpl__buildArrayRuntimeType unknown Dom[269435] unknown eltType[269438]), arg comparator[269450] :
  unknown rec[269447] =
  defaultComparator) : _unknown[51]
  {
    (269458 call chpl_check_comparator comparator eltType)
    if(269490 call _cond_test(269466 call !=(269462 call . Dom c"rank") 1))
    {
      (269487 call compilerError "bubbleSort() requires 1-D array")
    }
    { scopeless
      const low[269498] "const"(269495 call . Dom c"alignedLow")
      const high[269505] "const"(269502 call . Dom c"alignedHigh")
      const stride[269515] "const"(269514 call abs(269510 call . Dom c"stride"))
      (269518 'end of statement')
    }
    { scopeless
      unknown swapped[269520] 1
      (269523 'end of statement')
    }
    {
      unknown tmp[269633] "temp"
      (269651 'move' tmp[269633](269649 call _cond_test swapped))
      WhileDo[269638]
      {
        {
          (269527 call = swapped 0)
          {
            unknown _indexOfInterest[269585] "an _indexOfInterest or chpl__followIdx variable" "temp"
            unknown _iterator[269586] "expr temp" "temp"
            (269595 'move' _iterator[269586](269593 call _getIterator(269610 call chpl_direct_range_iter low(269607 call - high stride) stride)))
            Defer
            {
              {
                (269626 call _freeIterator _iterator[269586])
              }
            }
            { scopeless type
              (269615 'move' _indexOfInterest[269585](269612 call iteratorIndex _iterator[269586]))
            }
            ForLoop[269587]
            {
              unknown i[269619] "index var" "insert auto destroy"
              (269621 'move' i[269619] _indexOfInterest[269585])
              {
                if(269580 call _cond_test(269558 call >(269556 call chpl_compare(269546 call Data i)(269554 call Data(269551 call + i stride)) comparator) 0))
                {
                  (269571 call <=>(269563 call Data i)(269570 call Data(269567 call + i stride)))
                  (269577 call = swapped 1)
                }
              }
              label _continueLabel[269590]
              _indexOfInterest[269585]
              _iterator[269586]
            }
            label _breakLabel[269591]
          }
        }
        label _continueLabel[269636]
        (269644 'move' tmp[269633](269642 call _cond_test swapped))
        tmp[269633]
      }
      label _breakLabel[269637]
    }
  }
}