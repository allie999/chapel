AST dump for BubbleSort after pass expandExternArrayCalls.
Module use list: 

{
  (352932 'use' ChapelStandard)
  (269322 'import' Sort.{defaultComparator, chpl_check_comparator, chpl_compare})
  function bubbleSort[269337](arg Data[269334] :
  (269332 call chpl__buildArrayRuntimeType unknown Dom[269327] unknown eltType[269330]), arg comparator[269342] :
  unknown rec[269339] =
  defaultComparator) : _unknown[51]
  {
    (269350 call chpl_check_comparator comparator eltType)
    if(269382 call _cond_test(269358 call !=(269354 call . Dom c"rank") 1))
    {
      (269379 call compilerError "bubbleSort() requires 1-D array")
    }
    { scopeless
      const low[269390] "const"(269387 call . Dom c"alignedLow")
      const high[269397] "const"(269394 call . Dom c"alignedHigh")
      const stride[269407] "const"(269406 call abs(269402 call . Dom c"stride"))
      (269410 'end of statement')
    }
    { scopeless
      unknown swapped[269412] 1
      (269415 'end of statement')
    }
    {
      unknown tmp[269525] "temp"
      (269543 'move' tmp[269525](269541 call _cond_test swapped))
      WhileDo[269530]
      {
        {
          (269419 call = swapped 0)
          {
            unknown _indexOfInterest[269477] "an _indexOfInterest or chpl__followIdx variable" "temp"
            unknown _iterator[269478] "expr temp" "temp"
            (269487 'move' _iterator[269478](269485 call _getIterator(269502 call chpl_direct_range_iter low(269499 call - high stride) stride)))
            Defer
            {
              {
                (269518 call _freeIterator _iterator[269478])
              }
            }
            { scopeless type
              (269507 'move' _indexOfInterest[269477](269504 call iteratorIndex _iterator[269478]))
            }
            ForLoop[269479]
            {
              unknown i[269511] "index var" "insert auto destroy"
              (269513 'move' i[269511] _indexOfInterest[269477])
              {
                if(269472 call _cond_test(269450 call >(269448 call chpl_compare(269438 call Data i)(269446 call Data(269443 call + i stride)) comparator) 0))
                {
                  (269463 call <=>(269455 call Data i)(269462 call Data(269459 call + i stride)))
                  (269469 call = swapped 1)
                }
              }
              label _continueLabel[269482]
              _indexOfInterest[269477]
              _iterator[269478]
            }
            label _breakLabel[269483]
          }
        }
        label _continueLabel[269528]
        (269536 'move' tmp[269525](269534 call _cond_test swapped))
        tmp[269525]
      }
      label _breakLabel[269529]
    }
  }
}