AST dump for ChapelLocks after pass cullOverReferences.
Module use list: Atomics ChapelBase MemConsistency 

{
  function chpl__init_ChapelLocks[415958]() : void[4] "insert line file info" "module init" "resolved"
  {
    (523921 return _void[55])
  }
  function _ref(chpl_LocalSpinlock)[940982].lock[187277](ref arg this[187388]:_ref(chpl_LocalSpinlock)[940982]) : void[4] "inline" "method" "primary method" "resolved" "no return value for void"
  {
    const tmp[187356]:chpl_localeID_t[209294] "dead after last mention" "const" "temp"
    val call_tmp[690407]:chpl_localeID_t[209294] "dead after last mention" "expr temp" "maybe param" "temp"
    (690410 'move' call_tmp[690407](187353 '_wide_get_locale' this[187388]))
    (187358 'move' tmp[187356] call_tmp[690407])
    (935388 call on_fn[935384] tmp[187356] this[187388])
    {
    }
    (523917 return _void[55])
  }
  function _ref(chpl_LocalSpinlock)[940982].unlock[187369](ref arg this[187392]:_ref(chpl_LocalSpinlock)[940982]) : void[4] "inline" "method" "primary method" "resolved" "no return value for void"
  {
    ref call_tmp[690480]:_ref(AtomicBool)[941093] "dead after last mention" "maybe param" "temp"
    (690483 'move' call_tmp[690480](361803 call l[820206] this[187392]))
    (187380 call clear[1232406] call_tmp[690480])
    (523919 return _void[55])
  }
  function _ref(chpl_LocalSpinlock)[940982].l[820206](ref arg this[820210]:_ref(chpl_LocalSpinlock)[940982]) ref : _ref(AtomicBool)[941093] "field accessor" "inline" "method" "primary method" "no implicit copy" "no parens" "reference to const when const this" "resolved"
  {
    ref ret[820220]:_ref(AtomicBool)[941093] "dead after last mention" "RVV" "temp"
    ref call_tmp[820227]:_ref(AtomicBool)[941093] "dead after last mention" "maybe param" "temp"
    (820230 'move' call_tmp[820227](820214 '.' this[820210] l[187271]))
    (820225 'move' ret[820220] call_tmp[820227])
    (820222 return ret[820220])
  }
  function _ref(chpl_LocalSpinlock)[940982].init[820232](ref arg this[820235]:_ref(chpl_LocalSpinlock)[940982], ref arg l[820238]:AtomicBool[45874]) : void[4] "compiler generated" "last resort" "method" "primary method" "resolved" "suppress lvalue error"
  {
    val _formal_tmp_l[945066]:AtomicBool[45874] "dead at end of block" "no auto destroy" "no copy" "temp"
    (945069 'move' _formal_tmp_l[945066] l[820238])
    (820254 '.=' this[820235] l[187271] _formal_tmp_l[945066])
    (820258 return _void[55])
  }
  function init_default_l[944739]() : AtomicBool[45874] "compiler generated" "default actual function" "inline" "invisible fn" "last resort" "lineno ok" "maybe param" "maybe type" "method" "primary method" "resolved" "was compiler generated"
  {
    val ret[944741]:AtomicBool[45874] "dead after last mention" "RVV" "maybe param" "temp"
    val l[944746]:AtomicBool[45874] "dead after last mention" "expr temp" "maybe param" "suppress lvalue error" "temp" "user variable name"
    val _formal_type[944748]:AtomicBool[45874] "dead after last mention" "temp" "type variable"
    (944763 call init[44785] l[944746])
    (944759 'move' ret[944741] l[944746])
    (944744 return ret[944741])
  }
  function _ref(chpl_LocalSpinlock)[940982].init=[820260](ref arg this[820264]:_ref(chpl_LocalSpinlock)[940982], ref arg other[820265]:chpl_LocalSpinlock[187386]) : void[4] "compiler generated" "copy initializer" "last resort" "method" "primary method" "resolved" "suppress lvalue error"
  {
    ref call_tmp[820295]:_ref(AtomicBool)[941093] "dead after last mention" "insert auto destroy" "maybe param" "temp"
    (820298 'move' call_tmp[820295](820273 call l[820206] other[820265]))
    val call_tmp[820300]:AtomicBool[45874] "dead after last mention" "maybe param" "temp" "type variable"
    val tmp[820279]:AtomicBool[45874] "dead after last mention" "temp"
    (820284 call init=[44813] tmp[820279] call_tmp[820295])
    (820286 '.=' this[820264] l[187271] tmp[820279])
    (820290 'end of statement')
    (820291 return _void[55])
  }
  function _ref(chpl_LocalSpinlock)[940982].deinit[820305](const  ref arg this[820309]:_ref(chpl_LocalSpinlock)[940982]) : void[4] "compiler generated" "destructor" "inline" "last resort" "method" "primary method" "resolved"
  {
    (820317 return _void[55])
  }
  type chpl_LocalSpinlock[187386] val l[187271]:AtomicBool[45874]
  function on_fn[935384](const in arg dummy_locale_arg[935386]:chpl_localeID_t[209294], ref arg this[1765454]:_ref(chpl_LocalSpinlock)[940982]) : void[4] "on" "resolved"
  {
    {
      val tmp[187302]:bool[10] "dead after last mention" "temp"
      val tmp[429436]:bool[10] "dead after last mention" "maybe param" "temp"
      ref call_tmp[690414]:_ref(AtomicBool)[941093] "dead after last mention" "maybe param" "temp"
      (690417 'move' call_tmp[690414](361792 call l[820206] this[1765454]))
      (429447 'move' tmp[429436](187340 call read[1230680] call_tmp[690414]))
      (1231554 'end of statement')
      val tmp[572003]:bool[10] "dead after last mention" "expr temp" "if-expr result" "insert auto destroy" "temp"
      val tmp[572004]:bool[10] "dead after last mention" "maybe param" "temp"
      val call_tmp[690426]:bool[10] "dead after last mention" "expr temp" "maybe param" "temp"
      (690429 'move' call_tmp[690426] tmp[429436])
      (572009 'move' tmp[572004] call_tmp[690426])
      if tmp[572004]
      {
        (572014 'move' tmp[572003] 1)
      }
      {
        val tmp[572016]:bool[10] "dead after last mention" "expr temp" "maybe param" "no auto destroy" "temp"
        ref call_tmp[690433]:_ref(AtomicBool)[941093] "dead after last mention" "maybe param" "temp"
        (690436 'move' call_tmp[690433](361797 call l[820206] this[1765454]))
        val call_tmp[690440]:bool[10] "dead after last mention" "expr temp" "maybe param" "temp"
        (690443 'move' call_tmp[690440](187345 call testAndSet[1231556] call_tmp[690433]))
        (572018 'move' tmp[572016] call_tmp[690440])
        (572023 'move' tmp[572003] tmp[572016])
      }
      (187350 'move' tmp[187302] tmp[572003])
      WhileDo[187307]
      {
        (187300 call chpl_task_yield[209642])
        (484407 'end of statement')
        label _continueLabel[187305]
        val tmp[429415]:bool[10] "dead after last mention" "maybe param" "temp"
        ref call_tmp[690447]:_ref(AtomicBool)[941093] "dead after last mention" "maybe param" "temp"
        (690450 'move' call_tmp[690447](361781 call l[820206] this[1765454]))
        (429426 'move' tmp[429415](187318 call read[1230680] call_tmp[690447]))
        (1232308 'end of statement')
        val tmp[572030]:bool[10] "dead after last mention" "expr temp" "if-expr result" "insert auto destroy" "temp"
        val tmp[572031]:bool[10] "dead after last mention" "maybe param" "temp"
        val call_tmp[690459]:bool[10] "dead after last mention" "expr temp" "maybe param" "temp"
        (690462 'move' call_tmp[690459] tmp[429415])
        (572036 'move' tmp[572031] call_tmp[690459])
        if tmp[572031]
        {
          (572041 'move' tmp[572030] 1)
        }
        {
          val tmp[572043]:bool[10] "dead after last mention" "expr temp" "maybe param" "no auto destroy" "temp"
          ref call_tmp[690466]:_ref(AtomicBool)[941093] "dead after last mention" "maybe param" "temp"
          (690469 'move' call_tmp[690466](361786 call l[820206] this[1765454]))
          val call_tmp[690473]:bool[10] "dead after last mention" "expr temp" "maybe param" "temp"
          (690476 'move' call_tmp[690473](187323 call testAndSet[1231556] call_tmp[690466]))
          (572045 'move' tmp[572043] call_tmp[690473])
          (572050 'move' tmp[572030] tmp[572043])
        }
        (187328 'move' tmp[187302] tmp[572030])
        tmp[187302]
      }
      label _breakLabel[187306]
    }
    (935391 return _void[55])
  }
}