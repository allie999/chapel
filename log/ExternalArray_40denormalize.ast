AST dump for ExternalArray after pass denormalize.
Module use list: ChapelStandard HaltWrappers 

{
  function chpl__init_ExternalArray[416102](const in arg _ln[2619316]:int(64)[13], in arg _fn[2619318]:int(32)[95]) : void[4] "fast on" "insert line file info" "local fn" "module init" "resolved"
  {
    if chpl__init_ExternalArray_p[2592116]
    {
      goto _exit_chpl__init_ExternalArray[2592153] _exit_chpl__init_ExternalArray[2592153]
    }
    ref refIndentLevel[2592139]:int(32)[95] "temp"
    (2592137 call printModuleInit[20429] c"%*s\n" c"ExternalArray" 13 _ln[2619316] _fn[2619318])
    (2592143 'move' refIndentLevel[2592139](2592142 'addr of' moduleInitLevel[20419]))
    (2592146 '+=' refIndentLevel[2592139] 1)
    (2592122 'move' chpl__init_ExternalArray_p[2592116] 1)
    {
      (2590162 call chpl__init_HaltWrappers[416132] _ln[2619316] _fn[2619318])
    }
    (2592149 '-=' refIndentLevel[2592139] 1)
    label _exit_chpl__init_ExternalArray[2592153]
    (524382 return _void[55])
  }
  type chpl_opaque_array[188621] val _pid[188606]:int(64)[13] const-val _instance[188611]:c_void_ptr[149] const-val _unowned[188616]:bool[10]
  function chpl_call_free_func[188708](const in arg func[188705]:c_void_ptr[149], const in arg elts[188711]:c_void_ptr[149]) : void[4] "extern" "local args" "no fn body" "resolved" "no return value for void"
  {
    (524245 return _void[55])
  }
  function cleanupOpaqueArray[189693](const  ref arg arr[189690]:chpl_opaque_array[188621]) : void[4] "export" "local args" "resolved" "no return value for void"
  {
    val call_tmp[2451246]:BaseArr[149584] "dead after last mention" "expr temp" "maybe param" "temp"
    (2451248 'move' call_tmp[2451246](2451250 'cast' BaseArr[149584](2502756 '.v' arr[189690] _instance[188611]) 224 54))
    if(2177041 'ptr_neq'(1555056 'cast' object[22] call_tmp[2451246] 225 54) nil[44])
    {
      if(2451265 '!'(2502762 '.v' arr[189690] _unowned[188616]))
      {
        const-val call_tmp[2451271]:chpl_localeID_t[209352] "dead after last mention" "expr temp" "maybe param" "temp"
        (2451273 'move' call_tmp[2451271](2451275 '_wide_get_locale' call_tmp[2451246]))
        val isdirect[2451280]:bool[10] "temp"
        (2451282 'move' isdirect[2451280](2451285 call chpl_doDirectExecuteOn[187469] call_tmp[2451271]))
        if isdirect[2451280]
        {
          const-val tmp[2581897]:__wide_BaseArr[2519185] "temp"
          (2581900 'move' tmp[2581897] call_tmp[2451246])
          (2451290 call on_fn[1555363] tmp[2581897] 1 226 54)
        }
        {
          val _args_foron_fn[2451294]:_class_localson_fn[2158475] "temp"
          (2451296 'move' _args_foron_fn[2451294](2451298 'stack allocate class' _class_localson_fn[2158475]))
          (2599811 '_check_nil' _args_foron_fn[2451294] 226 54)
          (2451300 '.=' _args_foron_fn[2451294] _0_tmp[2158478] call_tmp[2451271])
          val tmp[2581903]:__wide_BaseArr[2519185] "temp"
          (2581906 'move' tmp[2581903] call_tmp[2451246])
          (2599813 '_check_nil' _args_foron_fn[2451294] 226 54)
          (2451304 '.=' _args_foron_fn[2451294] _1__instance[2158480] tmp[2581903])
          (2599815 '_check_nil' _args_foron_fn[2451294] 226 54)
          (2451308 '.=' _args_foron_fn[2451294] _2_deinitElts[2158482] 1)
          val _args_vforon_fn[2451312]:c_void_ptr[149] "temp"
          (2451314 'move' _args_vforon_fn[2451312](2451316 'cast_to_void_star' _args_foron_fn[2451294]))
          val _args_sizeon_fn[2451318]:int(64)[13] "temp"
          (2451320 'move' _args_sizeon_fn[2451318](2451322 'sizeof_bundle' _class_localson_fn[2158475]))
          (2589408 call chpl_taskRunningCntDec[93219] 226 54)
          (2639463 '.=' _args_foron_fn[2451294] _ln[2639444] 226)
          (2639466 '.=' _args_foron_fn[2451294] _fn[2639453] 54)
          on(2451325 call wrapon_fn[2158515] call_tmp[2451271] _args_vforon_fn[2451312] _args_sizeon_fn[2451318] _args_foron_fn[2451294])
          (2589410 call chpl_taskRunningCntInc[93198] 226 54)
        }
      }
      {
      }
    }
    (524380 return _void[55])
  }
}