AST dump for ExternalArray after pass denormalize.
Module use list: ChapelStandard HaltWrappers 

{
  function chpl__init_ExternalArray[416059](const in arg _ln[2476690]:int(64)[13], in arg _fn[2476692]:int(32)[95]) : void[4] "fast on" "insert line file info" "local fn" "module init" "resolved"
  {
    if chpl__init_ExternalArray_p[2451808]
    {
      goto _exit_chpl__init_ExternalArray[2451845] _exit_chpl__init_ExternalArray[2451845]
    }
    ref refIndentLevel[2451831]:int(32)[95] "temp"
    (2451829 call printModuleInit[20426] c"%*s\n" c"ExternalArray" 13 _ln[2476690] _fn[2476692])
    (2451835 'move' refIndentLevel[2451831](2451834 'addr of' moduleInitLevel[20416]))
    (2451838 '+=' refIndentLevel[2451831] 1)
    (2451814 'move' chpl__init_ExternalArray_p[2451808] 1)
    {
      (2449859 call chpl__init_HaltWrappers[416089] _ln[2476690] _fn[2476692])
    }
    (2451841 '-=' refIndentLevel[2451831] 1)
    label _exit_chpl__init_ExternalArray[2451845]
    (524336 return _void[55])
  }
  type chpl_opaque_array[188575] val _pid[188560]:int(64)[13] const-val _instance[188565]:c_void_ptr[149] const-val _unowned[188570]:bool[10]
  function chpl_call_free_func[188662](const in arg func[188659]:c_void_ptr[149], const in arg elts[188665]:c_void_ptr[149]) : void[4] "extern" "local args" "no fn body" "resolved" "no return value for void"
  {
    (524199 return _void[55])
  }
  function cleanupOpaqueArray[189647](const  ref arg arr[189644]:chpl_opaque_array[188575]) : void[4] "export" "local args" "resolved" "no return value for void"
  {
    val call_tmp[2325224]:BaseArr[149541] "dead after last mention" "expr temp" "maybe param" "temp"
    (2325226 'move' call_tmp[2325224](2325228 'cast' BaseArr[149541](2367234 '.v' arr[189644] _instance[188565]) 224 54))
    if(2115264 'ptr_neq'(1441643 'cast' object[22] call_tmp[2325224] 225 54) nil[44])
    {
      if(2325243 '!'(2367240 '.v' arr[189644] _unowned[188570]))
      {
        const-val call_tmp[2325249]:chpl_localeID_t[209294] "dead after last mention" "expr temp" "maybe param" "temp"
        (2325251 'move' call_tmp[2325249](2325253 '_wide_get_locale' call_tmp[2325224]))
        val isdirect[2325258]:bool[10] "temp"
        (2325260 'move' isdirect[2325258](2325263 call chpl_doDirectExecuteOn[187423] call_tmp[2325249]))
        if isdirect[2325258]
        {
          const-val tmp[2441574]:__wide_BaseArr[2381116] "temp"
          (2441577 'move' tmp[2441574] call_tmp[2325224])
          (2325268 call on_fn[1441986] tmp[2441574] 1 226 54)
        }
        {
          val _args_foron_fn[2325272]:_class_localson_fn[2095605] "temp"
          (2325274 'move' _args_foron_fn[2325272](2325276 'stack allocate class' _class_localson_fn[2095605]))
          (2458783 '_check_nil' _args_foron_fn[2325272] 226 54)
          (2325278 '.=' _args_foron_fn[2325272] _0_tmp[2095608] call_tmp[2325249])
          val tmp[2441580]:__wide_BaseArr[2381116] "temp"
          (2441583 'move' tmp[2441580] call_tmp[2325224])
          (2458785 '_check_nil' _args_foron_fn[2325272] 226 54)
          (2325282 '.=' _args_foron_fn[2325272] _1__instance[2095610] tmp[2441580])
          (2458787 '_check_nil' _args_foron_fn[2325272] 226 54)
          (2325286 '.=' _args_foron_fn[2325272] _2_deinitElts[2095612] 1)
          val _args_vforon_fn[2325290]:c_void_ptr[149] "temp"
          (2325292 'move' _args_vforon_fn[2325290](2325294 'cast_to_void_star' _args_foron_fn[2325272]))
          val _args_sizeon_fn[2325296]:int(64)[13] "temp"
          (2325298 'move' _args_sizeon_fn[2325296](2325300 'sizeof_bundle' _class_localson_fn[2095605]))
          (2449091 call chpl_taskRunningCntDec[93216] 226 54)
          (2495283 '.=' _args_foron_fn[2325272] _ln[2495264] 226)
          (2495286 '.=' _args_foron_fn[2325272] _fn[2495273] 54)
          on(2325303 call wrapon_fn[2095645] call_tmp[2325249] _args_vforon_fn[2325290] _args_sizeon_fn[2325296] _args_foron_fn[2325272])
          (2449093 call chpl_taskRunningCntInc[93195] 226 54)
        }
      }
      {
      }
    }
    (524334 return _void[55])
  }
}