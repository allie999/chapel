AST dump for InsertionSort after pass flattenClasses.
Module use list: ChapelStandard Sort ShallowCopy 

{
  function insertionSort[270021](arg Data[270018] :
  (270016 call chpl__buildArrayRuntimeType unknown Dom[270011] unknown eltType[270014]), arg comparator[270026] :
  unknown rec[270023] =
  defaultComparator[267889], arg lo[270035] :
  int(64)[13] =
  (270032 call . Dom[270011] c"alignedLow"), arg hi[270044] :
  int(64)[13] =
  (270041 call . Dom[270011] c"alignedHigh")) : _unknown[51] "no return value for void"
  {
    (270052 call chpl_check_comparator comparator[270026] eltType[270014])
    if(270084 call _cond_test(270060 call !=(270056 call . Dom[270011] c"rank") 1))
    {
      (270081 call compilerError "insertionSort() requires 1-D array")
    }
    const low[270089] "const" lo[270035]
    const high[270093] "const" hi[270044]
    const stride[270103] "const"(270102 call abs(270098 call . Dom[270011] c"stride"))
    (270106 'end of statement')
    {
      unknown _indexOfInterest[270260] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[270261] "expr temp" "temp"
      (270270 'move' _iterator[270261](270268 call _getIterator(270279 call chpl_direct_range_iter low[270089] high[270093] stride[270103])))
      Defer
      {
        {
          (270295 call _freeIterator _iterator[270261])
        }
      }
      { scopeless type
        (270284 'move' _indexOfInterest[270260](270281 call iteratorIndex _iterator[270261]))
      }
      ForLoop[270262]
      {
        unknown i[270288] "index var" "insert auto destroy"
        (270290 'move' i[270288] _indexOfInterest[270260])
        {
          unknown ithVal[270119](270118 call Data[270018] i[270288])
          (270122 'end of statement')
          unknown inserted[270125] 0
          (270128 'end of statement')
          {
            unknown _indexOfInterest[270194] "an _indexOfInterest or chpl__followIdx variable" "temp"
            unknown _iterator[270195] "expr temp" "temp"
            (270204 'move' _iterator[270195](270202 call _getIterator(270221 call chpl_direct_range_iter low[270089](270218 call - i[270288] stride[270103])(270214 call - stride[270103]))))
            Defer
            {
              {
                (270237 call _freeIterator _iterator[270195])
              }
            }
            { scopeless type
              (270226 'move' _indexOfInterest[270194](270223 call iteratorIndex _iterator[270195]))
            }
            ForLoop[270196]
            {
              unknown j[270230] "index var" "insert auto destroy"
              (270232 'move' j[270230] _indexOfInterest[270194])
              {
                if(270189 call _cond_test(270152 call <(270150 call chpl_compare ithVal[270119](270148 call Data[270018] j[270230]) comparator[270026]) 0))
                {
                  (270165 call =(270160 call Data[270018](270157 call + j[270230] stride[270103]))(270164 call Data[270018] j[270230]))
                }
                {
                  (270177 call =(270175 call Data[270018](270172 call + j[270230] stride[270103])) ithVal[270119])
                  (270183 call = inserted[270125] 1)
                  break _breakLabel[270200] _breakLabel[270200]
                }
              }
              label _continueLabel[270199]
              _indexOfInterest[270194]
              _iterator[270195]
            }
            label _breakLabel[270200]
          }
          if(270256 call _cond_test(270245 call ! inserted[270125]))
          {
            (270252 call =(270250 call Data[270018] low[270089]) ithVal[270119])
          }
        }
        label _continueLabel[270265]
        _indexOfInterest[270260]
        _iterator[270261]
      }
      label _breakLabel[270266]
    }
  }
  function insertionSortMoveElts[270316](arg Data[270313] :
  (270311 call chpl__buildArrayRuntimeType unknown Dom[270306] unknown eltType[270309]), arg comparator[270321] :
  unknown rec[270318] =
  defaultComparator[267889], arg lo[270330] :
  int(64)[13] =
  (270327 call . Dom[270306] c"alignedLow"), arg hi[270339] :
  int(64)[13] =
  (270336 call . Dom[270306] c"alignedHigh")) : _unknown[51] "no return value for void"
  {
    (270347 call chpl_check_comparator comparator[270321] eltType[270309])
    if(270363 call _cond_test(270355 call !=(270351 call . Dom[270306] c"rank") 1))
    {
      (270360 call compilerError "insertionSort() requires 1-D array")
    }
    const low[270368] "const" lo[270330]
    const high[270372] "const" hi[270339]
    const stride[270382] "const"(270381 call abs(270377 call . Dom[270306] c"stride"))
    (270385 'end of statement')
    {
      unknown _indexOfInterest[270561] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[270562] "expr temp" "temp"
      (270571 'move' _iterator[270562](270569 call _getIterator(270580 call chpl_direct_range_iter low[270368] high[270372] stride[270382])))
      Defer
      {
        {
          (270596 call _freeIterator _iterator[270562])
        }
      }
      { scopeless type
        (270585 'move' _indexOfInterest[270561](270582 call iteratorIndex _iterator[270562]))
      }
      ForLoop[270563]
      {
        unknown i[270589] "index var" "insert auto destroy"
        (270591 'move' i[270589] _indexOfInterest[270561])
        {
          unknown ithVal[270406] "no auto destroy"(270405 call shallowCopyInit module=[255] ShallowCopy[277293](270403 call Data[270313] i[270589]))
          (270409 'end of statement')
          unknown inserted[270412] 0
          (270415 'end of statement')
          {
            unknown _indexOfInterest[270491] "an _indexOfInterest or chpl__followIdx variable" "temp"
            unknown _iterator[270492] "expr temp" "temp"
            (270501 'move' _iterator[270492](270499 call _getIterator(270518 call chpl_direct_range_iter low[270368](270515 call - i[270589] stride[270382])(270511 call - stride[270382]))))
            Defer
            {
              {
                (270534 call _freeIterator _iterator[270492])
              }
            }
            { scopeless type
              (270523 'move' _indexOfInterest[270491](270520 call iteratorIndex _iterator[270492]))
            }
            ForLoop[270493]
            {
              unknown j[270527] "index var" "insert auto destroy"
              (270529 'move' j[270527] _indexOfInterest[270491])
              {
                if(270486 call _cond_test(270439 call <(270437 call chpl_compare ithVal[270406](270435 call Data[270313] j[270527]) comparator[270321]) 0))
                {
                  (270459 call shallowCopy module=[255] ShallowCopy[277293](270453 call Data[270313](270450 call + j[270527] stride[270382]))(270458 call Data[270313] j[270527]))
                  (364061 'referenced modules list' ShallowCopy[277293])
                }
                {
                  (270475 call shallowCopy module=[255] ShallowCopy[277293](270472 call Data[270313](270469 call + j[270527] stride[270382])) ithVal[270406])
                  (270480 call = inserted[270412] 1)
                  break _breakLabel[270497] _breakLabel[270497]
                  (364067 'referenced modules list' ShallowCopy[277293])
                }
              }
              label _continueLabel[270496]
              _indexOfInterest[270491]
              _iterator[270492]
            }
            label _breakLabel[270497]
          }
          if(270557 call _cond_test(270542 call ! inserted[270412]))
          {
            (270554 call shallowCopy module=[255] ShallowCopy[277293](270551 call Data[270313] low[270368]) ithVal[270406])
            (364073 'referenced modules list' ShallowCopy[277293])
          }
          (364055 'referenced modules list' ShallowCopy[277293])
        }
        label _continueLabel[270566]
        _indexOfInterest[270561]
        _iterator[270562]
      }
      label _breakLabel[270567]
    }
  }
  (355250 'used modules list'(352936 'use' ChapelStandard[20264])(270006 'use' Sort[267880]))
}