AST dump for InsertionSort after pass flattenClasses.
Module use list: ChapelStandard Sort ShallowCopy 

{
  function insertionSort[270131](arg Data[270128] :
  (270126 call chpl__buildArrayRuntimeType unknown Dom[270121] unknown eltType[270124]), arg comparator[270136] :
  unknown rec[270133] =
  defaultComparator[267998], arg lo[270145] :
  int(64)[13] =
  (270142 call . Dom[270121] c"alignedLow"), arg hi[270154] :
  int(64)[13] =
  (270151 call . Dom[270121] c"alignedHigh")) : _unknown[51] "no return value for void"
  {
    (270162 call chpl_check_comparator comparator[270136] eltType[270124])
    if(270194 call _cond_test(270170 call !=(270166 call . Dom[270121] c"rank") 1))
    {
      (270191 call compilerError "insertionSort() requires 1-D array")
    }
    const low[270199] "const" lo[270145]
    const high[270203] "const" hi[270154]
    const stride[270213] "const"(270212 call abs(270208 call . Dom[270121] c"stride"))
    (270216 'end of statement')
    {
      unknown _indexOfInterest[270370] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[270371] "expr temp" "temp"
      (270380 'move' _iterator[270371](270378 call _getIterator(270389 call chpl_direct_range_iter low[270199] high[270203] stride[270213])))
      Defer
      {
        {
          (270405 call _freeIterator _iterator[270371])
        }
      }
      { scopeless type
        (270394 'move' _indexOfInterest[270370](270391 call iteratorIndex _iterator[270371]))
      }
      ForLoop[270372]
      {
        unknown i[270398] "index var" "insert auto destroy"
        (270400 'move' i[270398] _indexOfInterest[270370])
        {
          unknown ithVal[270229](270228 call Data[270128] i[270398])
          (270232 'end of statement')
          unknown inserted[270235] 0
          (270238 'end of statement')
          {
            unknown _indexOfInterest[270304] "an _indexOfInterest or chpl__followIdx variable" "temp"
            unknown _iterator[270305] "expr temp" "temp"
            (270314 'move' _iterator[270305](270312 call _getIterator(270331 call chpl_direct_range_iter low[270199](270328 call - i[270398] stride[270213])(270324 call - stride[270213]))))
            Defer
            {
              {
                (270347 call _freeIterator _iterator[270305])
              }
            }
            { scopeless type
              (270336 'move' _indexOfInterest[270304](270333 call iteratorIndex _iterator[270305]))
            }
            ForLoop[270306]
            {
              unknown j[270340] "index var" "insert auto destroy"
              (270342 'move' j[270340] _indexOfInterest[270304])
              {
                if(270299 call _cond_test(270262 call <(270260 call chpl_compare ithVal[270229](270258 call Data[270128] j[270340]) comparator[270136]) 0))
                {
                  (270275 call =(270270 call Data[270128](270267 call + j[270340] stride[270213]))(270274 call Data[270128] j[270340]))
                }
                {
                  (270287 call =(270285 call Data[270128](270282 call + j[270340] stride[270213])) ithVal[270229])
                  (270293 call = inserted[270235] 1)
                  break _breakLabel[270310] _breakLabel[270310]
                }
              }
              label _continueLabel[270309]
              _indexOfInterest[270304]
              _iterator[270305]
            }
            label _breakLabel[270310]
          }
          if(270366 call _cond_test(270355 call ! inserted[270235]))
          {
            (270362 call =(270360 call Data[270128] low[270199]) ithVal[270229])
          }
        }
        label _continueLabel[270375]
        _indexOfInterest[270370]
        _iterator[270371]
      }
      label _breakLabel[270376]
    }
  }
  function insertionSortMoveElts[270426](arg Data[270423] :
  (270421 call chpl__buildArrayRuntimeType unknown Dom[270416] unknown eltType[270419]), arg comparator[270431] :
  unknown rec[270428] =
  defaultComparator[267998], arg lo[270440] :
  int(64)[13] =
  (270437 call . Dom[270416] c"alignedLow"), arg hi[270449] :
  int(64)[13] =
  (270446 call . Dom[270416] c"alignedHigh")) : _unknown[51] "no return value for void"
  {
    (270457 call chpl_check_comparator comparator[270431] eltType[270419])
    if(270473 call _cond_test(270465 call !=(270461 call . Dom[270416] c"rank") 1))
    {
      (270470 call compilerError "insertionSort() requires 1-D array")
    }
    const low[270478] "const" lo[270440]
    const high[270482] "const" hi[270449]
    const stride[270492] "const"(270491 call abs(270487 call . Dom[270416] c"stride"))
    (270495 'end of statement')
    {
      unknown _indexOfInterest[270671] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[270672] "expr temp" "temp"
      (270681 'move' _iterator[270672](270679 call _getIterator(270690 call chpl_direct_range_iter low[270478] high[270482] stride[270492])))
      Defer
      {
        {
          (270706 call _freeIterator _iterator[270672])
        }
      }
      { scopeless type
        (270695 'move' _indexOfInterest[270671](270692 call iteratorIndex _iterator[270672]))
      }
      ForLoop[270673]
      {
        unknown i[270699] "index var" "insert auto destroy"
        (270701 'move' i[270699] _indexOfInterest[270671])
        {
          unknown ithVal[270516] "no auto destroy"(270515 call shallowCopyInit module=[255] ShallowCopy[277404](270513 call Data[270423] i[270699]))
          (270519 'end of statement')
          unknown inserted[270522] 0
          (270525 'end of statement')
          {
            unknown _indexOfInterest[270601] "an _indexOfInterest or chpl__followIdx variable" "temp"
            unknown _iterator[270602] "expr temp" "temp"
            (270611 'move' _iterator[270602](270609 call _getIterator(270628 call chpl_direct_range_iter low[270478](270625 call - i[270699] stride[270492])(270621 call - stride[270492]))))
            Defer
            {
              {
                (270644 call _freeIterator _iterator[270602])
              }
            }
            { scopeless type
              (270633 'move' _indexOfInterest[270601](270630 call iteratorIndex _iterator[270602]))
            }
            ForLoop[270603]
            {
              unknown j[270637] "index var" "insert auto destroy"
              (270639 'move' j[270637] _indexOfInterest[270601])
              {
                if(270596 call _cond_test(270549 call <(270547 call chpl_compare ithVal[270516](270545 call Data[270423] j[270637]) comparator[270431]) 0))
                {
                  (270569 call shallowCopy module=[255] ShallowCopy[277404](270563 call Data[270423](270560 call + j[270637] stride[270492]))(270568 call Data[270423] j[270637]))
                  (364192 'referenced modules list' ShallowCopy[277404])
                }
                {
                  (270585 call shallowCopy module=[255] ShallowCopy[277404](270582 call Data[270423](270579 call + j[270637] stride[270492])) ithVal[270516])
                  (270590 call = inserted[270522] 1)
                  break _breakLabel[270607] _breakLabel[270607]
                  (364198 'referenced modules list' ShallowCopy[277404])
                }
              }
              label _continueLabel[270606]
              _indexOfInterest[270601]
              _iterator[270602]
            }
            label _breakLabel[270607]
          }
          if(270667 call _cond_test(270652 call ! inserted[270522]))
          {
            (270664 call shallowCopy module=[255] ShallowCopy[277404](270661 call Data[270423] low[270478]) ithVal[270516])
            (364204 'referenced modules list' ShallowCopy[277404])
          }
          (364186 'referenced modules list' ShallowCopy[277404])
        }
        label _continueLabel[270676]
        _indexOfInterest[270671]
        _iterator[270672]
      }
      label _breakLabel[270677]
    }
  }
  (355381 'used modules list'(353066 'use' ChapelStandard[20267])(270116 'use' Sort[267989]))
}