AST dump for InsertionSort after pass flattenClasses.
Module use list: ChapelStandard Sort ShallowCopy 

{
  function insertionSort[270109](arg Data[270106] :
  (270104 call chpl__buildArrayRuntimeType unknown Dom[270099] unknown eltType[270102]), arg comparator[270114] :
  unknown rec[270111] =
  defaultComparator[267977], arg lo[270123] :
  int(64)[13] =
  (270120 call . Dom[270099] c"alignedLow"), arg hi[270132] :
  int(64)[13] =
  (270129 call . Dom[270099] c"alignedHigh")) : _unknown[51] "no return value for void"
  {
    (270140 call chpl_check_comparator comparator[270114] eltType[270102])
    if(270172 call _cond_test(270148 call !=(270144 call . Dom[270099] c"rank") 1))
    {
      (270169 call compilerError "insertionSort() requires 1-D array")
    }
    const low[270177] "const" lo[270123]
    const high[270181] "const" hi[270132]
    const stride[270191] "const"(270190 call abs(270186 call . Dom[270099] c"stride"))
    (270194 'end of statement')
    {
      unknown _indexOfInterest[270348] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[270349] "expr temp" "temp"
      (270358 'move' _iterator[270349](270356 call _getIterator(270367 call chpl_direct_range_iter low[270177] high[270181] stride[270191])))
      Defer
      {
        {
          (270383 call _freeIterator _iterator[270349])
        }
      }
      { scopeless type
        (270372 'move' _indexOfInterest[270348](270369 call iteratorIndex _iterator[270349]))
      }
      ForLoop[270350]
      {
        unknown i[270376] "index var" "insert auto destroy"
        (270378 'move' i[270376] _indexOfInterest[270348])
        {
          unknown ithVal[270207](270206 call Data[270106] i[270376])
          (270210 'end of statement')
          unknown inserted[270213] 0
          (270216 'end of statement')
          {
            unknown _indexOfInterest[270282] "an _indexOfInterest or chpl__followIdx variable" "temp"
            unknown _iterator[270283] "expr temp" "temp"
            (270292 'move' _iterator[270283](270290 call _getIterator(270309 call chpl_direct_range_iter low[270177](270306 call - i[270376] stride[270191])(270302 call - stride[270191]))))
            Defer
            {
              {
                (270325 call _freeIterator _iterator[270283])
              }
            }
            { scopeless type
              (270314 'move' _indexOfInterest[270282](270311 call iteratorIndex _iterator[270283]))
            }
            ForLoop[270284]
            {
              unknown j[270318] "index var" "insert auto destroy"
              (270320 'move' j[270318] _indexOfInterest[270282])
              {
                if(270277 call _cond_test(270240 call <(270238 call chpl_compare ithVal[270207](270236 call Data[270106] j[270318]) comparator[270114]) 0))
                {
                  (270253 call =(270248 call Data[270106](270245 call + j[270318] stride[270191]))(270252 call Data[270106] j[270318]))
                }
                {
                  (270265 call =(270263 call Data[270106](270260 call + j[270318] stride[270191])) ithVal[270207])
                  (270271 call = inserted[270213] 1)
                  break _breakLabel[270288] _breakLabel[270288]
                }
              }
              label _continueLabel[270287]
              _indexOfInterest[270282]
              _iterator[270283]
            }
            label _breakLabel[270288]
          }
          if(270344 call _cond_test(270333 call ! inserted[270213]))
          {
            (270340 call =(270338 call Data[270106] low[270177]) ithVal[270207])
          }
        }
        label _continueLabel[270353]
        _indexOfInterest[270348]
        _iterator[270349]
      }
      label _breakLabel[270354]
    }
  }
  function insertionSortMoveElts[270404](arg Data[270401] :
  (270399 call chpl__buildArrayRuntimeType unknown Dom[270394] unknown eltType[270397]), arg comparator[270409] :
  unknown rec[270406] =
  defaultComparator[267977], arg lo[270418] :
  int(64)[13] =
  (270415 call . Dom[270394] c"alignedLow"), arg hi[270427] :
  int(64)[13] =
  (270424 call . Dom[270394] c"alignedHigh")) : _unknown[51] "no return value for void"
  {
    (270435 call chpl_check_comparator comparator[270409] eltType[270397])
    if(270451 call _cond_test(270443 call !=(270439 call . Dom[270394] c"rank") 1))
    {
      (270448 call compilerError "insertionSort() requires 1-D array")
    }
    const low[270456] "const" lo[270418]
    const high[270460] "const" hi[270427]
    const stride[270470] "const"(270469 call abs(270465 call . Dom[270394] c"stride"))
    (270473 'end of statement')
    {
      unknown _indexOfInterest[270649] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[270650] "expr temp" "temp"
      (270659 'move' _iterator[270650](270657 call _getIterator(270668 call chpl_direct_range_iter low[270456] high[270460] stride[270470])))
      Defer
      {
        {
          (270684 call _freeIterator _iterator[270650])
        }
      }
      { scopeless type
        (270673 'move' _indexOfInterest[270649](270670 call iteratorIndex _iterator[270650]))
      }
      ForLoop[270651]
      {
        unknown i[270677] "index var" "insert auto destroy"
        (270679 'move' i[270677] _indexOfInterest[270649])
        {
          unknown ithVal[270494] "no auto destroy"(270493 call shallowCopyInit module=[255] ShallowCopy[277381](270491 call Data[270401] i[270677]))
          (270497 'end of statement')
          unknown inserted[270500] 0
          (270503 'end of statement')
          {
            unknown _indexOfInterest[270579] "an _indexOfInterest or chpl__followIdx variable" "temp"
            unknown _iterator[270580] "expr temp" "temp"
            (270589 'move' _iterator[270580](270587 call _getIterator(270606 call chpl_direct_range_iter low[270456](270603 call - i[270677] stride[270470])(270599 call - stride[270470]))))
            Defer
            {
              {
                (270622 call _freeIterator _iterator[270580])
              }
            }
            { scopeless type
              (270611 'move' _indexOfInterest[270579](270608 call iteratorIndex _iterator[270580]))
            }
            ForLoop[270581]
            {
              unknown j[270615] "index var" "insert auto destroy"
              (270617 'move' j[270615] _indexOfInterest[270579])
              {
                if(270574 call _cond_test(270527 call <(270525 call chpl_compare ithVal[270494](270523 call Data[270401] j[270615]) comparator[270409]) 0))
                {
                  (270547 call shallowCopy module=[255] ShallowCopy[277381](270541 call Data[270401](270538 call + j[270615] stride[270470]))(270546 call Data[270401] j[270615]))
                  (364149 'referenced modules list' ShallowCopy[277381])
                }
                {
                  (270563 call shallowCopy module=[255] ShallowCopy[277381](270560 call Data[270401](270557 call + j[270615] stride[270470])) ithVal[270494])
                  (270568 call = inserted[270500] 1)
                  break _breakLabel[270585] _breakLabel[270585]
                  (364155 'referenced modules list' ShallowCopy[277381])
                }
              }
              label _continueLabel[270584]
              _indexOfInterest[270579]
              _iterator[270580]
            }
            label _breakLabel[270585]
          }
          if(270645 call _cond_test(270630 call ! inserted[270500]))
          {
            (270642 call shallowCopy module=[255] ShallowCopy[277381](270639 call Data[270401] low[270456]) ithVal[270494])
            (364161 'referenced modules list' ShallowCopy[277381])
          }
          (364143 'referenced modules list' ShallowCopy[277381])
        }
        label _continueLabel[270654]
        _indexOfInterest[270649]
        _iterator[270650]
      }
      label _breakLabel[270655]
    }
  }
  (355338 'used modules list'(353024 'use' ChapelStandard[20264])(270094 'use' Sort[267968]))
}